# ======================================================================
# ALA Medical Application - Environment Variables Reference
# ======================================================================
# This file documents ALL environment variables used by the application.
# It serves as a template and reference - NO SECRETS are included.
#
# USAGE:
# 1. Copy to .env: cp .env.example .env
# 2. Fill in your secrets (marked with CHANGE_ME)
# 3. Never commit .env to git (it's in .gitignore)
#
# See docs/design-logs/2026-01-environment-alignment.md for parity details.

# ======================================================================
# Database Configuration (Required)
# ======================================================================
POSTGRES_DB=ala_production
POSTGRES_USER=ala_user
POSTGRES_PASSWORD=CHANGE_ME

# Full database connection URL
# NOTE: Hostname differs by environment:
#   - Local: @db:5432 (docker-compose service name)
#   - Azure: @ala-db:5432 (swarm container name)
DATABASE_URL=postgresql://ala_user:CHANGE_ME@db:5432/ala_production

# ======================================================================
# Backend API Configuration (Required)
# ======================================================================
# Environment: development | staging | production
NODE_ENV=development
PORT=5000

# JWT Secret for authentication (generate with: openssl rand -base64 32)
JWT_SECRET=CHANGE_ME

# ======================================================================
# Frontend Configuration (Required)
# ======================================================================
# API URL - use relative URL for portability
# Local and Azure should both use /api
VITE_API_URL=/api

# Environment indicator for UI banners
# development | staging | production
VITE_ENVIRONMENT=development

# Nginx configuration file to use
# Local: nginx.http-local.conf (no SSL)
# Azure: nginx.https.azure.conf (with SSL)
NGINX_CONFIG=nginx.http-local.conf

# ======================================================================
# Priority ERP Integration (Required)
# ======================================================================
PRIORITY_API_URL=https://your-priority-server.com
PRIORITY_API_USERNAME=CHANGE_ME
PRIORITY_API_PASSWORD=CHANGE_ME
PRIORITY_API_COMPANY=CHANGE_ME

# ======================================================================
# CORS Configuration (Required)
# ======================================================================
# Allowed origins for CORS (comma-separated)
# Local: http://localhost,http://localhost:3000,http://127.0.0.1:3000
# Azure: https://ala-app.israelcentral.cloudapp.azure.com
CORS_ORIGIN=http://localhost,http://localhost:3000

# ======================================================================
# Test Data Configuration (Optional)
# ======================================================================
# Enable test data for test@example.com
# Local: true (for development)
# Azure: false (production)
ENABLE_TEST_DATA=false

# Emails that bypass Priority validation (comma-separated)
BYPASS_PRIORITY_EMAILS=test@example.com

# Test user credentials (development only)
TEST_USER_EMAIL=test@example.com
TEST_USER_UUID=47605b24-e71b-479b-93c5-8b7ce1c17098

# ======================================================================
# Azure Communication Services (Azure Production Only)
# ======================================================================
# Leave empty for local development
# Connection string from Azure Portal > Communication Services > Keys
AZURE_COMMUNICATION_CONNECTION_STRING=

# Sender email from Azure Communication Services > Email > MailFrom
AZURE_EMAIL_SENDER_ADDRESS=

# Recipient email for treatment finalization PDFs
PDF_RECIPIENT_EMAIL=

# ======================================================================
# Domain Configuration (Production)
# ======================================================================
# Azure production domain
DOMAIN=ala-app.israelcentral.cloudapp.azure.com

# ======================================================================
# Optional: Advanced Configuration
# ======================================================================
# Logging level (error, warn, info, debug)
# LOG_LEVEL=info

# Session secret (if using sessions)
# SESSION_SECRET=CHANGE_ME

# ======================================================================
# Optional: Timeout Configuration (milliseconds)
# ======================================================================
# Priority API request timeout (default: 30000)
# PRIORITY_API_TIMEOUT_MS=30000

# Priority API short timeout for quick operations (default: 10000)
# PRIORITY_API_SHORT_TIMEOUT_MS=10000

# Performance logging thresholds
# SLOW_REQUEST_THRESHOLD_MS=5000
# SLOW_RESPONSE_THRESHOLD_MS=3000

# Database health check cache (default: 300000 = 5 minutes)
# DB_HEALTH_CACHE_MS=300000

# Database health threshold (default: 5000)
# DB_HEALTH_THRESHOLD_MS=5000

# Database reconnection interval (default: 30000)
# DB_RECONNECT_INTERVAL_MS=30000

# ======================================================================
# Optional: Frontend Configuration (VITE_ prefix required)
# ======================================================================
# API timeout for frontend (default: 30000)
# VITE_API_TIMEOUT_MS=30000

# API port for URL generation (default: 5000)
# VITE_API_PORT=5000

# Domain for frontend production fallback
# VITE_DOMAIN=ala-app.israelcentral.cloudapp.azure.com
